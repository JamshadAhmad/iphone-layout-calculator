function Calc(){var i="false";"round"===$('input[name="round"]:checked').val()&&(i="true");var e=$("#aspectratio").is(":checked"),a=$("#width").val(),r=$("#height").val(),h=$("#phone").val(),t=$('input[name="whattokeep"]:checked').val();e===!0&&"width"===t?($("#i3w").val(a/res["i"+h].widthPT*res.i3.widthPT),$("#i3h").val(a/res["i"+h].widthPT*res.i3.widthPT*r/a),$("#i3wp").val(a/res["i"+h].widthPT*res.i3.widthPT*res.i3.x),$("#i3hp").val(a/res["i"+h].widthPT*res.i3.widthPT*r/a*res.i3.x),$("#i4w").val(a/res["i"+h].widthPT*res.i4.widthPT),$("#i4h").val(a/res["i"+h].widthPT*res.i4.widthPT*r/a),$("#i4wp").val(a/res["i"+h].widthPT*res.i4.widthPT*res.i4.x),$("#i4hp").val(a/res["i"+h].widthPT*res.i4.widthPT*r/a*res.i4.x),$("#i5w").val(a/res["i"+h].widthPT*res.i5.widthPT),$("#i5h").val(a/res["i"+h].widthPT*res.i5.widthPT*r/a),$("#i5wp").val(a/res["i"+h].widthPT*res.i5.widthPT*res.i5.x),$("#i5hp").val(a/res["i"+h].widthPT*res.i5.widthPT*r/a*res.i5.x),$("#i6w").val(a/res["i"+h].widthPT*res.i6.widthPT),$("#i6h").val(a/res["i"+h].widthPT*res.i6.widthPT*r/a),$("#i6wp").val(a/res["i"+h].widthPT*res.i6.widthPT*res.i6.x),$("#i6hp").val(a/res["i"+h].widthPT*res.i6.widthPT*r/a*res.i6.x),$("#i6pw").val(a/res["i"+h].widthPT*res.i6p.widthPT),$("#i6ph").val(a/res["i"+h].widthPT*res.i6p.widthPT*r/a),$("#i6pwp").val(a/res["i"+h].widthPT*res.i6p.widthPT*res.i6p.x),$("#i6php").val(a/res["i"+h].widthPT*res.i6p.widthPT*r/a*res.i6p.x)):e===!0&&"height"===t?($("#i3w").val(a/res["i"+h].heightPT*res.i3.heightPT),$("#i3h").val(a/res["i"+h].heightPT*res.i3.heightPT*r/a),$("#i3wp").val(a/res["i"+h].heightPT*res.i3.heightPT*res.i3.x),$("#i3hp").val(a/res["i"+h].heightPT*res.i3.heightPT*r/a*res.i3.x),$("#i4w").val(a/res["i"+h].heightPT*res.i4.heightPT),$("#i4h").val(a/res["i"+h].heightPT*res.i4.heightPT*r/a),$("#i4wp").val(a/res["i"+h].heightPT*res.i4.heightPT*res.i4.x),$("#i4hp").val(a/res["i"+h].heightPT*res.i4.heightPT*r/a*res.i4.x),$("#i5w").val(a/res["i"+h].heightPT*res.i5.heightPT),$("#i5h").val(a/res["i"+h].heightPT*res.i5.heightPT*r/a),$("#i5wp").val(a/res["i"+h].heightPT*res.i5.heightPT*res.i5.x),$("#i5hp").val(a/res["i"+h].heightPT*res.i5.heightPT*r/a*res.i5.x),$("#i6w").val(a/res["i"+h].heightPT*res.i6.heightPT),$("#i6h").val(a/res["i"+h].heightPT*res.i6.heightPT*r/a),$("#i6wp").val(a/res["i"+h].heightPT*res.i6.heightPT*res.i6.x),$("#i6hp").val(a/res["i"+h].heightPT*res.i6.heightPT*r/a*res.i6.x),$("#i6pw").val(a/res["i"+h].heightPT*res.i6p.heightPT),$("#i6ph").val(a/res["i"+h].heightPT*res.i6p.heightPT*r/a),$("#i6pwp").val(a/res["i"+h].heightPT*res.i6p.heightPT*res.i6p.x),$("#i6php").val(a/res["i"+h].heightPT*res.i6p.heightPT*r/a*res.i6p.x)):e===!1&&($("#i3w").val(a/res["i"+h].widthPT*res.i3.widthPT),$("#i3h").val(r/res["i"+h].heightPT*res.i3.heightPT),$("#i3wp").val(a/res["i"+h].widthPT*res.i3.widthPT*res.i3.x),$("#i3hp").val(r/res["i"+h].heightPT*res.i3.heightPT*res.i3.x),$("#i4w").val(a/res["i"+h].widthPT*res.i4.widthPT),$("#i4h").val(r/res["i"+h].heightPT*res.i4.heightPT),$("#i4wp").val(a/res["i"+h].widthPT*res.i4.widthPT*res.i4.x),$("#i4hp").val(r/res["i"+h].heightPT*res.i4.heightPT*res.i4.x),$("#i5w").val(a/res["i"+h].widthPT*res.i5.widthPT),$("#i5h").val(r/res["i"+h].heightPT*res.i5.heightPT),$("#i5wp").val(a/res["i"+h].widthPT*res.i5.widthPT*res.i5.x),$("#i5hp").val(r/res["i"+h].heightPT*res.i5.heightPT*res.i5.x),$("#i6w").val(a/res["i"+h].widthPT*res.i6.widthPT),$("#i6h").val(r/res["i"+h].heightPT*res.i6.heightPT),$("#i6wp").val(a/res["i"+h].widthPT*res.i6.widthPT*res.i6.x),$("#i6hp").val(r/res["i"+h].heightPT*res.i6.heightPT*res.i6.x),$("#i6pw").val(a/res["i"+h].widthPT*res.i6p.widthPT),$("#i6ph").val(r/res["i"+h].heightPT*res.i6p.heightPT),$("#i6pwp").val(a/res["i"+h].widthPT*res.i6p.widthPT*res.i6p.x),$("#i6php").val(r/res["i"+h].heightPT*res.i6p.heightPT*res.i6p.x)),r>=0&&a>=0&&resizeImage(),"true"===i?($("#i3w").val(Math.round($("#i3w").val())),$("#i3h").val(Math.round($("#i3h").val())),$("#i3wp").val(Math.round($("#i3wp").val())),$("#i3hp").val(Math.round($("#i3hp").val())),$("#i4w").val(Math.round($("#i4w").val())),$("#i4h").val(Math.round($("#i4h").val())),$("#i4wp").val(Math.round($("#i4wp").val())),$("#i4hp").val(Math.round($("#i4hp").val())),$("#i5w").val(Math.round($("#i5w").val())),$("#i5h").val(Math.round($("#i5h").val())),$("#i5wp").val(Math.round($("#i5wp").val())),$("#i5hp").val(Math.round($("#i5hp").val())),$("#i6w").val(Math.round($("#i6w").val())),$("#i6h").val(Math.round($("#i6h").val())),$("#i6wp").val(Math.round($("#i6wp").val())),$("#i6hp").val(Math.round($("#i6hp").val())),$("#i6pw").val(Math.round($("#i6pw").val())),$("#i6ph").val(Math.round($("#i6ph").val())),$("#i6pwp").val(Math.round($("#i6pwp").val())),$("#i6php").val(Math.round($("#i6php").val()))):($("#i3w").val(Math.round(100*$("#i3w").val())/100),$("#i3h").val(Math.round(100*$("#i3h").val())/100),$("#i3wp").val(Math.round(100*$("#i3wp").val())/100),$("#i3hp").val(Math.round(100*$("#i3hp").val())/100),$("#i4w").val(Math.round(100*$("#i4w").val())/100),$("#i4h").val(Math.round(100*$("#i4h").val())/100),$("#i4wp").val(Math.round(100*$("#i4wp").val())/100),$("#i4hp").val(Math.round(100*$("#i4hp").val())/100),$("#i5w").val(Math.round(100*$("#i5w").val())/100),$("#i5h").val(Math.round(100*$("#i5h").val())/100),$("#i5wp").val(Math.round(100*$("#i5wp").val())/100),$("#i5hp").val(Math.round(100*$("#i5hp").val())/100),$("#i6w").val(Math.round(100*$("#i6w").val())/100),$("#i6h").val(Math.round(100*$("#i6h").val())/100),$("#i6wp").val(Math.round(100*$("#i6wp").val())/100),$("#i6hp").val(Math.round(100*$("#i6hp").val())/100),$("#i6pw").val(Math.round(100*$("#i6pw").val())/100),$("#i6ph").val(Math.round(100*$("#i6ph").val())/100),$("#i6pwp").val(Math.round(100*$("#i6pwp").val())/100),$("#i6php").val(Math.round(100*$("#i6php").val())/100))}function createCanvasContext(i,e){var a=document.createElement("canvas");a.height=e,a.width=i;var r=a.getContext("2d");return $("#imagecontainer").append(a),$("#imagecontainer").append(" "),r}function downloadp(){var i=$("canvas")[0].toDataURL("image/png"),e=$("canvas")[1].toDataURL("image/png"),a=$("canvas")[2].toDataURL("image/png"),r=$("canvas")[3].toDataURL("image/png"),h=$("canvas")[4].toDataURL("image/png"),t=new JSZip,s=$("input[type=file]").val().replace(/C:\\fakepath\\/i,"");s=s.substring(0,s.length-4),t.file(s+".png",i.substring(22),{base64:!0}),t.file(s+"~4@2x.png",e.substring(22),{base64:!0}),t.file(s+"~5@2x.png",a.substring(22),{base64:!0}),t.file(s+"~6@2x.png",r.substring(22),{base64:!0}),t.file(s+"@3x.png",h.substring(22),{base64:!0});var l=t.generate({type:"blob"});saveAs(l,"images.zip")}function downloadj(){var i=$("canvas")[0].toDataURL("image/jpeg"),e=$("canvas")[1].toDataURL("image/jpeg"),a=$("canvas")[2].toDataURL("image/jpeg"),r=$("canvas")[3].toDataURL("image/jpeg"),h=$("canvas")[4].toDataURL("image/jpeg"),t=new JSZip,s=$("input[type=file]").val().replace(/C:\\fakepath\\/i,"");s=s.substring(0,s.length-4),t.file(s+".jpg",i.substring(23),{base64:!0}),t.file(s+"~4@2x.jpg",e.substring(23),{base64:!0}),t.file(s+"~5@2x.jpg",a.substring(23),{base64:!0}),t.file(s+"~6@2x.jpg",r.substring(23),{base64:!0}),t.file(s+"@3x.jpg",h.substring(23),{base64:!0});var l=t.generate({type:"blob"});saveAs(l,"images.zip")}function resizeImage(){res.r1x=$("#i3wp").val(),res.r1y=$("#i3hp").val(),res.r2x=$("#i4wp").val(),res.r2y=$("#i4hp").val(),res.r3x=$("#i5wp").val(),res.r3y=$("#i5hp").val(),res.r4x=$("#i6wp").val(),res.r4y=$("#i6hp").val(),res.r5x=$("#i6pwp").val(),res.r5y=$("#i6php").val();var i=document.querySelector("#himage");$("#imagecontainer").html("<br><a id='downloadj' class='btn btn-success' download='images.zip'>Download as zip (jpg format)</a> <a id='downloadp' class='btn btn-success' download='images.zip'>Download as zip (png format)</a><br>");var e=createCanvasContext(Math.round(res.r1x),Math.round(res.r1y)),a=createCanvasContext(Math.round(res.r2x),Math.round(res.r2y)),r=createCanvasContext(Math.round(res.r3x),Math.round(res.r3y)),h=createCanvasContext(Math.round(res.r4x),Math.round(res.r4y)),t=createCanvasContext(Math.round(res.r5x),Math.round(res.r5y));e.drawImage(i,0,0,Math.round(res.r1x),Math.round(res.r1y)),a.drawImage(i,0,0,Math.round(res.r2x),Math.round(res.r2y)),r.drawImage(i,0,0,Math.round(res.r3x),Math.round(res.r3y)),h.drawImage(i,0,0,Math.round(res.r4x),Math.round(res.r4y)),t.drawImage(i,0,0,Math.round(res.r5x),Math.round(res.r5y)),document.getElementById("downloadj").addEventListener("click",downloadj,!1),document.getElementById("downloadp").addEventListener("click",downloadp,!1)}function switchaspect(){this.checked?($("#chb1").removeAttr("disabled"),$("#chb2").removeAttr("disabled")):($("#chb1").attr("disabled",!0),$("#chb2").attr("disabled",!0)),Calc()}function previewFile(){var i=document.querySelector("input[type=file]").files[0],e=document.querySelector("#himage"),a=new FileReader;a.onloadend=function(){e.src=a.result,resizeImage()},i?a.readAsDataURL(i):e.src=""}var res=[];res.i3={},res.i3.x=1,res.i3.widthPT=320,res.i3.heightPT=480,res.i4={},res.i4.x=2,res.i4s={},res.i4.widthPT=320,res.i4.heightPT=480,res.i5={},res.i5.x=2,res.i5s={},res.i5c={},res.i5.widthPT=320,res.i5.heightPT=568,res.i6={},res.i6.x=2,res.i6.widthPT=375,res.i6.heightPT=667,res.i6p={},res.i6p.x=3,res.i6p.widthPT=414,res.i6p.heightPT=736,$("#width").change(Calc),$("#height").change(Calc),$(document).ready(function(){}),$("#aspectratio").change(switchaspect),previewFile();